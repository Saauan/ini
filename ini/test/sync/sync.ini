
process main() {
	@init() {
		i=0
	}
	e = @every() : [time=100] {
		i++
		sleep(50)
		println("e: "+i)
	}
	i == 2 {
		stop(e)
		sleep(50)
		return
	}
	$(e) @update(oldv, v) : [variable = i, mode="async"] {
		println("u: "+v)		
	}
}
