
function foreach(l, handler) {
	case size(l) > 0 {
		handler(first(l))
		return foreach(rest(l), handler)
	}
}

function map(l, mapper) {
	case size(l) > 0 {
		return [mapper(first(l))] & map(rest(l), mapper)
	}
}

function select(l, selector) {
	case size(l) > 0  {
		case selector(first(l)) {
			return [first(l)] & select(rest(l), selector)
		}
		return [] & select(rest(l), selector)
	}
}
