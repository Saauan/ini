declare file(String)=>File : [class="java.io.File", member="new(..)"]
declare file_exists(File)=>Boolean : [class="java.io.File", member="exists(..)"]
declare file_is_directory(File)=>Boolean : [class="java.io.File", member="isDirectory(..)"]
declare file_name(File)=>String : [class="java.io.File", member="getName(..)"]
declare file_list(File)=>File* : [class="java.io.File", member="listFiles(..)"]
declare file_mkdirs(File)=>Boolean : [class="java.io.File", member="mkdirs(..)"]

declare file_writer(File)=>FileWriter : [class="java.io.FileWriter", member="new(..)"]
declare file_writer_append(FileWriter,String)=>Void : [class="java.io.FileWriter", member="write(..)"]
declare file_writer_close(FileWriter)=>Void : [class="java.io.FileWriter", member="close(..)"]
declare file_writer_println(Writer,String)=>Void : [class="java.io.Writer", member="println(..)"]

declare file_input_stream(File)=>InputStream : [class="java.io.FileInputStream", member="new(..)"]

declare input_stream_close(InputStream)=>Void : [class="java.io.InputStream", member="close(..)"]

declare reader(InputStream)=>Reader : [class="java.io.InputStreamReader", member="new(..)"]
declare buffered_reader(Reader)=>BufferedReader : [class="java.io.BufferedReader", member="new(..)"]
declare data_output_stream(OutputStream)=>DataOutputStream : [class="java.io.DataOutputStream", member="new(..)"]
declare read_line(BufferedReader)=>String : [class="java.io.BufferedReader", member="readLine(..)"]
declare read_char(BufferedReader)=>Int : [class="java.io.BufferedReader", member="read(..)"]
declare write_string(DataOutputStream,String)=>Void : [class="java.io.DataOutputStream", member="writeBytes(..)"]
declare close_data_output_stream(DataOutputStream)=>Void : [class="java.io.Closeable", member="close(..)"]

function read_string(buffered_reader, count) {
	i = 0
	s = ""
	c = 0
	case i < count && c!=-1 {
		c = read_char(buffered_reader)
		s[i++] = to_char(c)
	}
	return s
}

function read_all_string(buffered_reader) {
	i = 0
	s = ""
	c = 0
	case c!=-1 {
		c = read_char(buffered_reader)
		s[i++] = to_char(c)
	}
	return s
}


/*
 * A simple function to write a string in a file.
 */
function file_write_content(file_path,string) {
	f = file_writer(file(file_path))
	file_writer_append(f,string)
	file_writer_close(f)
}

function file_read_content(file_path) {
	fis = file_input_stream(file(file_path))
	content = read_all_string(buffered_reader(reader(fis)))
	input_stream_close(fis)
	return content
}

