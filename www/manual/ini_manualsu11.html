<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"  
  "http://www.w3.org/TR/html4/loose.dtd">  
<html > 
<head><title>Maps, lists, and sets</title> 
<meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1"> 
<meta name="generator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<meta name="originator" content="TeX4ht (http://www.cse.ohio-state.edu/~gurari/TeX4ht/)"> 
<!-- html,frames,3,info --> 
<meta name="src" content="ini_manual.tex"> 
<meta name="date" content="2010-09-12 12:23:00"> 
<link rel="stylesheet" type="text/css" href="ini_manual.css"> 
</head><body 
>
   <!--l. 951--><div class="crosslinks"><p class="noindent">[<a 
href="ini_manualsu12.html" >next</a>] [<a 
href="ini_manualsu10.html" >prev</a>] [<a 
href="ini_manualsu10.html#tailini_manualsu10.html" >prev-tail</a>] [<a 
href="#tailini_manualsu11.html">tail</a>] [<a 
href="ini_manualse4.html#ini_manualsu11.html" >up</a>] </p></div>
   <h4 class="subsectionHead"><span class="titlemark">4.5   </span> <a 
 id="x19-330004.5"></a>Maps, lists, and sets</h4>
<!--l. 953--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">4.5.1   </span> <a 
 id="x19-340004.5.1"></a>Map definition and access</h5>
<!--l. 955--><p class="noindent" >Maps are natively supported by INI. A map is automatically defined when
accessed through the map access expression that uses square brackets: <span 
class="cmtt-10x-x-109">map[key]</span>.
Keys and values within maps are of any type, but shall all be of the
same type for a given map. For instance the following statement list is
valid:
   <!--l. 957-->
   <div class="lstlisting" id="listing-35"><span class="label"><a 
 id="x19-34001r1"></a></span>m[&#8221;key1&#8221;]&#x00A0;=&#x00A0;1&#x00A0;<br /><span class="label"><a 
 id="x19-34002r2"></a></span>m[&#8221;key2&#8221;]&#x00A0;=&#x00A0;2&#x00A0;<br /><span class="label"><a 
 id="x19-34003r3"></a></span>println(m[&#8221;key2&#8221;])
   
   </div>
<!--l. 963--><p class="indent" >   On the other hand, the following statement list is not valid because the first
line initializes <span 
class="cmtt-10x-x-109">m </span>to be a map of integer values accessed through string keys
and:
     <ul class="itemize1">
     <li class="itemize">the key is an integer at line 2,
     </li>
     <li class="itemize">the value is a string at line 3,
     </li>
     <li class="itemize">there are no typing errors at line 4.</li></ul>
   <!--l. 971-->
   <div class="lstlisting" id="listing-36"><span class="label"><a 
 id="x19-34004r1"></a><span 
class="cmr-9">1</span></span>m[&#8221;key1&#8221;]&#x00A0;=&#x00A0;1&#x00A0;<br /><span class="label"><a 
 id="x19-34005r2"></a><span 
class="cmr-9">2</span></span>m[1]&#x00A0;=&#x00A0;2&#x00A0;<br /><span class="label"><a 
 id="x19-34006r3"></a><span 
class="cmr-9">3</span></span>m[&#8221;key2&#8221;]&#x00A0;=&#x00A0;&#8221;test&#8221;&#x00A0;<br /><span class="label"><a 
 id="x19-34007r4"></a><span 
class="cmr-9">4</span></span>println(m[&#8221;key2&#8221;])
   
   </div>
                                                                     

                                                                     
<!--l. 978--><p class="indent" >   Note that the size of a map (i.e. the number of elements in it) can be
retrieved with the <span 
class="cmtt-10x-x-109">size </span>built-in function (see Section [...]). Emptying a map or
removing an entry is done with the <span 
class="cmtt-10x-x-109">clear </span>function (not implemented
yet).
<!--l. 980--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">4.5.2   </span> <a 
 id="x19-350004.5.2"></a>List definition and access</h5>
<!--l. 982--><p class="noindent" >In INI, a list is simply a map where keys are integers.
<!--l. 984--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">4.5.3   </span> <a 
 id="x19-360004.5.3"></a>Integer sets</h5>
<!--l. 986--><p class="noindent" >To allow easy iteration on lists, INI provides a constructor for set of integers. A
set of integers is defined with two bounds: <span 
class="cmtt-10x-x-109">[min..max]</span>. For instance, the set that
contains all the integers between <span 
class="cmtt-10x-x-109">0 </span>and <span 
class="cmtt-10x-x-109">10 </span>(bounds included) is written
<span 
class="cmtt-10x-x-109">[0..10]</span>.
<!--l. 988--><p class="noindent" >
   <h5 class="subsubsectionHead"><span class="titlemark">4.5.4   </span> <a 
 id="x19-370004.5.4"></a>Set selection expressions</h5>
<!--l. 990--><p class="noindent" >Set can be used in set selection expressions that allows the programmer to
randomly select elements in a set and bind their values to local variables. A
selection condition must be used to select the elements upon a given
criteria. For instance, to select two integers <span 
class="cmtt-10x-x-109">i </span>and <span 
class="cmtt-10x-x-109">j </span>that are contained
within 0 and 10, so that <span 
class="cmtt-10x-x-109">i </span>¡ <span 
class="cmtt-10x-x-109">j</span>, one can write the following set selection
expression:
   <!--l. 992-->
   <div class="lstlisting" id="listing-37"><span class="label"><a 
 id="x19-37001r1"></a></span>i,&#x00A0;j&#x00A0;of&#x00A0;[0..10]&#x00A0;<span 
class="cmsy-10x-x-109">|</span>&#x00A0;i&#x00A0;<span 
class="cmmi-10x-x-109">&#x003C;</span>&#x00A0;j
   
   </div>
<!--l. 996--><p class="indent" >   Set selection expressions must be used in guards. The difference between a set
selection guard and a regular guard is that the former one will be evaluated to
true until all the possible values have been picked from the set. In other words,
the guard will stop matching only once none of the set elements fit the selection
condition.
<!--l. 998--><p class="indent" >   Example: sorting the elements of a list (see Section [...]).
   <!--l. 1000-->
                                                                     

                                                                     
   <div class="lstlisting" id="listing-38"><span class="label"><a 
 id="x19-37002r1"></a><span 
class="cmr-9">1</span></span>function&#x00A0;sort1(s)&#x00A0;<span 
class="cmsy-10x-x-109">{</span>&#x00A0;<br /><span class="label"><a 
 id="x19-37003r2"></a><span 
class="cmr-9">2</span></span>&#x00A0;&#x00A0;i&#x00A0;of&#x00A0;[0..size(s)<span 
class="cmsy-10x-x-109">-</span>2]&#x00A0;<span 
class="cmsy-10x-x-109">|</span>&#x00A0;s[i]&#x00A0;<span 
class="cmmi-10x-x-109">&#x003E;</span>&#x00A0;s[i+1]&#x00A0;<span 
class="cmsy-10x-x-109">{</span>&#x00A0;<br /><span class="label"><a 
 id="x19-37004r3"></a><span 
class="cmr-9">3</span></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;swap(s[i],s[i+1])&#x00A0;<br /><span class="label"><a 
 id="x19-37005r4"></a><span 
class="cmr-9">4</span></span>&#x00A0;&#x00A0;<span 
class="cmsy-10x-x-109">}</span>&#x00A0;<br /><span class="label"><a 
 id="x19-37006r5"></a><span 
class="cmr-9">5</span></span>&#x00A0;&#x00A0;@end()&#x00A0;<span 
class="cmsy-10x-x-109">{</span>&#x00A0;<br /><span class="label"><a 
 id="x19-37007r6"></a><span 
class="cmr-9">6</span></span>&#x00A0;&#x00A0;&#x00A0;&#x00A0;return&#x00A0;s&#x00A0;<br /><span class="label"><a 
 id="x19-37008r7"></a><span 
class="cmr-9">7</span></span>&#x00A0;&#x00A0;<span 
class="cmsy-10x-x-109">}</span>&#x00A0;<br /><span class="label"><a 
 id="x19-37009r8"></a><span 
class="cmr-9">8</span></span><span 
class="cmsy-10x-x-109">}</span>
   
   </div>
<!--l. 1011--><p class="indent" >   As we will see in the next section, set selection expressions can be used to
select instances of types that have been constructed by the program. This feature
requires the use of user-defined types.
                                                                     

                                                                     
   <!--l. 1013--><div class="crosslinks"><p class="noindent">[<a 
href="ini_manualsu12.html" >next</a>] [<a 
href="ini_manualsu10.html" >prev</a>] [<a 
href="ini_manualsu10.html#tailini_manualsu10.html" >prev-tail</a>] [<a 
href="ini_manualsu11.html" >front</a>] [<a 
href="ini_manualse4.html#ini_manualsu11.html" >up</a>] </p></div>
<!--l. 1013--><p class="indent" >   <a 
 id="tailini_manualsu11.html"></a>   
</body></html> 
